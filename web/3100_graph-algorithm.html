<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <h3>Graph Algorithm</h3>
    <h4>Search in Graph</h4>
    <ul>
      <li>
        <p>Depth-First Search</p>
        <ul>
          <li><a href="https://grader.mwit.ac.th/problem/vance">https://grader.mwit.ac.th/problem/vance</a> dfs from all node</li>
        </ul>
      </li>
      <li>
        <p>Breadth-First Search</p>
        <ul>
          <li><a href="https://grader.mwit.ac.th/problem/toi17_wall">https://grader.mwit.ac.th/problem/toi17_wall</a> dfs/bfs โจทย์ซับซ้อน</li>
        </ul>
      </li>
      <li>
        <p>Backtracking</p>
        <ul>
          <li>เป็นการเก็บคำตอบย้อนหลัง หลังจากที่เข้าเงื่อนไขบางอย่างแล้ว</li>
          <li><a href="https://grader.mwit.ac.th/problem/walking_bot_2">https://grader.mwit.ac.th/problem/walking_bot_2</a></li>
        </ul>
      </li>
      <li>
        <p>Branch and Bound (implementation)</p>
        <ul>
          <li><a href="https://grader.mwit.ac.th/problem/snakeword">https://grader.mwit.ac.th/problem/snakeword</a></li>
        </ul>
      </li>
      <li>
        <p>Challenge</p>
        <ul>
          <li><a href="https://grader.mwit.ac.th/problem/teleport">https://grader.mwit.ac.th/problem/teleport</a> ad-hoc, implementation</li>
        </ul>
      </li>
      <li>Eulerian</li>
      <li>Hamiltonian</li>
    </ul>
    <h3>Graph Applications</h3>
    <h4>Colorings</h4>
    <p>สามารถใช้การ search ต่าง ๆ เช่น dfs ในการระบายสีโหนดได้</p>
    <p>ปัญหาการระบายสีโหนดให้โหนดที่ติดกันมีสีต่างกันเสมอเป็นปัญหาที่พบเจอได้บ่อยในสาขาคอมพิวเตอร์</p>
    <h4>Connectivity check</h4>
    <p>DFS แล้วเช็คว่า visit ครบทุกโหนดหรือไม่</p>
    <h4>Finding cycles</h4>
    <p><a href="https://visualgo.net/en/cyclefinding?slide=1">https://visualgo.net/en/cyclefinding?slide=1</a></p>
    <p>ถ้า component มี</p>
    <p>โหนด และไม่มี cycle เลยแล้ว component นั้นจะต้องมีเส้นเชื่อมทั้งหมด</p>
    <p>เส้น และเป็นกราฟต้นไม้</p>
    <h4>Bipartiteness check</h4>
    <p>กราฟ bipartite เป็นกราฟเมื่อสามารถใช้สีสองสีในการระบายสีโหนดโดยทุกโหนดที่ติดกันต้องมีสีที่แตกต่างกัน</p>
    <p><a href="https://cp-algorithms.com/graph/bipartite-check.html">https://cp-algorithms.com/graph/bipartite-check.html</a></p>
    <h3>Weighted Shortest Path</h3>
    <p><a href="https://visualgo.net/en/sssp?slide=1">https://visualgo.net/en/sssp?slide=1</a></p>
    <h4>Dijkstra’s Algorithm (implementation)</h4>
    <p><a href="https://cp-algorithms.com/graph/dijkstra.html">https://cp-algorithms.com/graph/dijkstra.html</a></p>
    <pre><code data-lang="cpp"><span style="color: #d73948">const</span> <span style="color: #d73948">int</span> INF <span style="color: #d73948">=</span> <span style="color: #b60157">1000000000</span>;<br>vector&lt;vector&lt;pair&lt;<span style="color: #d73948">int</span>, <span style="color: #d73948">int</span>>>> adj;<br><br><span style="color: #d73948">void</span> <span style="color: #4b69c6">dijkstra</span>(<span style="color: #d73948">int</span> s, vector&lt;<span style="color: #d73948">int</span>> <span style="color: #d73948">&amp;</span> d, vector&lt;<span style="color: #d73948">int</span>> <span style="color: #d73948">&amp;</span> p) {<br>    <span style="color: #d73948">int</span> n <span style="color: #d73948">=</span> adj.<span style="color: #4b69c6">size</span>();<br>    d.<span style="color: #4b69c6">assign</span>(n, INF);<br>    p.<span style="color: #4b69c6">assign</span>(n, <span style="color: #d73948">-</span><span style="color: #b60157">1</span>);<br>    vector&lt;<span style="color: #d73948">bool</span>> <span style="color: #4b69c6">u</span>(n, <span style="color: #d73948">false</span>);<br><br>    d[s] <span style="color: #d73948">=</span> <span style="color: #b60157">0</span>;<br>    <span style="color: #d73948">for</span> (<span style="color: #d73948">int</span> i <span style="color: #d73948">=</span> <span style="color: #b60157">0</span>; i <span style="color: #d73948">&lt;</span> n; i<span style="color: #d73948">++</span>) {<br>        <span style="color: #d73948">int</span> v <span style="color: #d73948">=</span> <span style="color: #d73948">-</span><span style="color: #b60157">1</span>;<br>        <span style="color: #d73948">for</span> (<span style="color: #d73948">int</span> j <span style="color: #d73948">=</span> <span style="color: #b60157">0</span>; j <span style="color: #d73948">&lt;</span> n; j<span style="color: #d73948">++</span>) {<br>            <span style="color: #d73948">if</span> (<span style="color: #d73948">!</span>u[j] <span style="color: #d73948">&amp;&amp;</span> (v <span style="color: #d73948">==</span> <span style="color: #d73948">-</span><span style="color: #b60157">1</span> <span style="color: #d73948">||</span> d[j] <span style="color: #d73948">&lt;</span> d[v]))<br>                v <span style="color: #d73948">=</span> j;<br>        }<br><br>        <span style="color: #d73948">if</span> (d[v] <span style="color: #d73948">==</span> INF)<br>            <span style="color: #d73948">break</span>;<br><br>        u[v] <span style="color: #d73948">=</span> <span style="color: #d73948">true</span>;<br>        <span style="color: #d73948">for</span> (<span style="color: #d73948">auto</span> edge <span style="color: #d73948">:</span> adj[v]) {<br>            <span style="color: #d73948">int</span> to <span style="color: #d73948">=</span> edge.first;<br>            <span style="color: #d73948">int</span> len <span style="color: #d73948">=</span> edge.second;<br><br>            <span style="color: #d73948">if</span> (d[v] <span style="color: #d73948">+</span> len <span style="color: #d73948">&lt;</span> d[to]) {<br>                d[to] <span style="color: #d73948">=</span> d[v] <span style="color: #d73948">+</span> len;<br>                p[to] <span style="color: #d73948">=</span> v;<br>            }<br>        }<br>    }<br>}</code></pre>
    <ul>
      <li>
        <p><a href="https://grader.mwit.ac.th/problem/turboprogramming">https://grader.mwit.ac.th/problem/turboprogramming</a> dijkstra ตรงๆ</p>
        <pre><code data-lang="cpp"><span style="color: #74747c">//</span><span style="color: #74747c"> credit Mok MWIT29</span><br><span style="color: #d73948">#include</span> <span style="color: #198810">&lt;</span><span style="color: #198810">bits/stdc++.h</span><span style="color: #198810">></span><br><span style="color: #d73948">#define</span> <span style="color: #4b69c6">ii</span> pair&lt;<span style="color: #d73948">int</span>, <span style="color: #d73948">int</span>><br><span style="color: #d73948">using</span> <span style="color: #d73948">namespace</span> std;<br>vector&lt;ii> adj[<span style="color: #b60157">100100</span>];<br><span style="color: #d73948">int</span> dist[<span style="color: #b60157">100100</span>];<br><span style="color: #d73948">int</span> <span style="color: #4b69c6">main</span>() {<br>  <span style="color: #d73948">int</span> N, M, Q;<br>  <span style="color: #4b69c6">scanf</span>(<span style="color: #198810">"</span><span style="color: #b60157">%d</span><span style="color: #198810"> </span><span style="color: #b60157">%d</span><span style="color: #198810"> </span><span style="color: #b60157">%d</span><span style="color: #198810">"</span>, <span style="color: #d73948">&amp;</span>N, <span style="color: #d73948">&amp;</span>M, <span style="color: #d73948">&amp;</span>Q);<br>  <span style="color: #d73948">for</span> (<span style="color: #d73948">int</span> i <span style="color: #d73948">=</span> <span style="color: #b60157">1</span>, u, v, w; i <span style="color: #d73948">&lt;=</span> M; i<span style="color: #d73948">++</span>) {<br>    <span style="color: #4b69c6">scanf</span>(<span style="color: #198810">"</span><span style="color: #b60157">%d</span><span style="color: #198810"> </span><span style="color: #b60157">%d</span><span style="color: #198810"> </span><span style="color: #b60157">%d</span><span style="color: #198810">"</span>, <span style="color: #d73948">&amp;</span>u, <span style="color: #d73948">&amp;</span>v, <span style="color: #d73948">&amp;</span>w);<br>    adj[u].<span style="color: #4b69c6">push_back</span>(<span style="color: #4b69c6">make_pair</span>(v, w));<br>    <span style="color: #74747c">//</span><span style="color: #74747c"> adj[v].push_back(make_pair(u, w));</span><br>  }<br>  <span style="color: #d73948">for</span> (<span style="color: #d73948">int</span> i <span style="color: #d73948">=</span> <span style="color: #b60157">1</span>; i <span style="color: #d73948">&lt;=</span> N; i<span style="color: #d73948">++</span>)<br>    dist[i] <span style="color: #d73948">=</span> INT_MAX;<br>  priority_queue<span style="color: #d73948">&lt;</span>ii, vector&lt;ii>, greater&lt;ii><span style="color: #d73948">></span> pq;<br>  dist[<span style="color: #b60157">1</span>] <span style="color: #d73948">=</span> <span style="color: #b60157">0</span>;<br>  pq.<span style="color: #4b69c6">push</span>(<span style="color: #4b69c6">make_pair</span>(<span style="color: #b60157">0</span>, <span style="color: #b60157">1</span>));<br>  <span style="color: #d73948">while</span> (<span style="color: #d73948">!</span>pq.<span style="color: #4b69c6">empty</span>()) {<br>    <span style="color: #d73948">int</span> d <span style="color: #d73948">=</span> pq.<span style="color: #4b69c6">top</span>().first;<br>    <span style="color: #d73948">int</span> n <span style="color: #d73948">=</span> pq.<span style="color: #4b69c6">top</span>().second;<br>    pq.<span style="color: #4b69c6">pop</span>();<br>    <span style="color: #d73948">for</span> (<span style="color: #d73948">auto</span> x <span style="color: #d73948">:</span> adj[n]) {<br>      <span style="color: #d73948">if</span> (dist[x.first] <span style="color: #d73948">></span> d <span style="color: #d73948">+</span> x.second) {<br>        dist[x.first] <span style="color: #d73948">=</span> d <span style="color: #d73948">+</span> x.second;<br>        pq.<span style="color: #4b69c6">push</span>(<span style="color: #4b69c6">make_pair</span>(d <span style="color: #d73948">+</span> x.second, x.first));<br>      }<br>    }<br>  }<br>  <span style="color: #d73948">while</span> (Q<span style="color: #d73948">--</span>) {<br>    <span style="color: #d73948">int</span> a;<br>    <span style="color: #4b69c6">scanf</span>(<span style="color: #198810">"</span><span style="color: #b60157">%d</span><span style="color: #198810">"</span>, <span style="color: #d73948">&amp;</span>a);<br>    <span style="color: #d73948">if</span> (dist[a] <span style="color: #d73948">==</span> INT_MAX)<br>      <span style="color: #4b69c6">printf</span>(<span style="color: #198810">"</span><span style="color: #198810">-1</span><span style="color: #1d6c76">\n</span><span style="color: #198810">"</span>);<br>    <span style="color: #d73948">else</span><br>      <span style="color: #4b69c6">printf</span>(<span style="color: #198810">"</span><span style="color: #b60157">%d</span><span style="color: #1d6c76">\n</span><span style="color: #198810">"</span>, dist[a]);<br>  }<br>}</code></pre>
      </li>
      <li><a href="https://grader.mwit.ac.th/problem/town">https://grader.mwit.ac.th/problem/town</a> dijkstra ไม่ตรงมาก</li>
      <li><a href="https://grader.mwit.ac.th/problem/followpeatt">https://grader.mwit.ac.th/problem/followpeatt</a> dijkstra แบบมีเงื่อนไข</li>
      <li><a href="https://grader.mwit.ac.th/problem/toi14_logistics">https://grader.mwit.ac.th/problem/toi14_logistics</a> dijkstra ซับซ้อนขึ้น</li>
    </ul>
    <h4>Bellman-Ford</h4>
    <ul>
      <li>Negative cycles</li>
    </ul>
    <pre><code data-lang="cpp"><span style="color: #74747c">//</span><span style="color: #74747c"> credit from https://github.com/Autoratch/practice</span><br><span style="color: #d73948">#include</span> <span style="color: #198810">&lt;</span><span style="color: #198810">bits/stdc++.h</span><span style="color: #198810">></span><br><span style="color: #d73948">using</span> <span style="color: #d73948">namespace</span> std;<br><br><span style="color: #d73948">int</span> n, m, s, e;<br>vector&lt;pair&lt;<span style="color: #d73948">int</span>, pair&lt;<span style="color: #d73948">int</span>, <span style="color: #d73948">int</span>>>> adj;<br>vector&lt;<span style="color: #d73948">int</span>> dist;<br><br><span style="color: #d73948">int</span> <span style="color: #4b69c6">main</span>() {<br>  ios_base::<span style="color: #4b69c6">sync_with_stdio</span>(<span style="color: #b60157">0</span>);<br>  cin.<span style="color: #4b69c6">tie</span>(<span style="color: #b60157">0</span>);<br><br>  cin <span style="color: #d73948">>></span> n <span style="color: #d73948">>></span> m <span style="color: #d73948">>></span> s <span style="color: #d73948">>></span> e;<br><br>  adj.<span style="color: #4b69c6">resize</span>(m);<br>  dist.<span style="color: #4b69c6">assign</span>(n, INT_MAX);<br><br>  <span style="color: #d73948">for</span> (<span style="color: #d73948">int</span> i <span style="color: #d73948">=</span> <span style="color: #b60157">0</span>; i <span style="color: #d73948">&lt;</span> m; i<span style="color: #d73948">++</span>) {<br>    <span style="color: #d73948">int</span> a, b, d;<br>    cin <span style="color: #d73948">>></span> a <span style="color: #d73948">>></span> b <span style="color: #d73948">>></span> d;<br>    adj[i] <span style="color: #d73948">=</span> {d, {a, b}};<br>  }<br><br>  dist[<span style="color: #b60157">0</span>] <span style="color: #d73948">=</span> <span style="color: #b60157">0</span>;<br>  <span style="color: #d73948">for</span> (<span style="color: #d73948">int</span> i <span style="color: #d73948">=</span> <span style="color: #b60157">0</span>; i <span style="color: #d73948">&lt;</span> n <span style="color: #d73948">-</span> <span style="color: #b60157">1</span>; i<span style="color: #d73948">++</span>)<br>    <span style="color: #d73948">for</span> (<span style="color: #d73948">int</span> j <span style="color: #d73948">=</span> <span style="color: #b60157">0</span>; j <span style="color: #d73948">&lt;</span> m; j<span style="color: #d73948">++</span>) {<br>      <span style="color: #d73948">int</span> a <span style="color: #d73948">=</span> adj[i].second.first, b <span style="color: #d73948">=</span> adj[i].second.second, d <span style="color: #d73948">=</span> adj[i].first;<br>      <span style="color: #d73948">if</span> (dist[a] <span style="color: #d73948">!=</span> INT_MAX <span style="color: #d73948">and</span> dist[a] <span style="color: #d73948">+</span> d <span style="color: #d73948">&lt;</span> dist[b])<br>        dist[b] <span style="color: #d73948">=</span> dist[a] <span style="color: #d73948">+</span> d;<br>    }<br><br>  cout <span style="color: #d73948">&lt;&lt;</span> dist[e];<br>}</code></pre>
    <h4>Floyd-Warshall (implementation)</h4>
    <p><a href="https://cp-algorithms.com/graph/all-pair-shortest-path-floyd-warshall.html">https://cp-algorithms.com/graph/all-pair-shortest-path-floyd-warshall.html</a></p>
    <pre><code data-lang="cpp"><span style="color: #d73948">for</span> (<span style="color: #d73948">int</span> k <span style="color: #d73948">=</span> <span style="color: #b60157">0</span>; k <span style="color: #d73948">&lt;</span> n; <span style="color: #d73948">++</span>k) {<br>    <span style="color: #d73948">for</span> (<span style="color: #d73948">int</span> i <span style="color: #d73948">=</span> <span style="color: #b60157">0</span>; i <span style="color: #d73948">&lt;</span> n; <span style="color: #d73948">++</span>i) {<br>        <span style="color: #d73948">for</span> (<span style="color: #d73948">int</span> j <span style="color: #d73948">=</span> <span style="color: #b60157">0</span>; j <span style="color: #d73948">&lt;</span> n; <span style="color: #d73948">++</span>j) {<br>            d[i][j] <span style="color: #d73948">=</span> <span style="color: #4b69c6">min</span>(d[i][j], d[i][k] <span style="color: #d73948">+</span> d[k][j]); <br>        }<br>    }<br>}</code></pre>
    <ul>
      <li><a href="https://grader.mwit.ac.th/problem/toi17_1221">https://grader.mwit.ac.th/problem/toi17_1221</a> all-pair</li>
    </ul>
    <h4>Johnson (exist)</h4>
    <h4>A* Search</h4>
    <p><a href="https://www.redblobgames.com/pathfinding/a-star/introduction.html">https://www.redblobgames.com/pathfinding/a-star/introduction.html</a></p>
    <h3>Minimum Spanning Tree</h3>
    <p><a href="https://visualgo.net/en/mst?slide=1">https://visualgo.net/en/mst?slide=1</a></p>
    <h4>Kruskal’s (implementation)</h4>
    <ul>
      <li>Union-find</li>
    </ul>
    <pre><code data-lang="cpp"><span style="color: #74747c">//</span><span style="color: #74747c"> credit from https://github.com/Autoratch/practice</span><br><span style="color: #d73948">#include</span> <span style="color: #198810">&lt;</span><span style="color: #198810">bits/stdc++.h</span><span style="color: #198810">></span><br><span style="color: #d73948">using</span> <span style="color: #d73948">namespace</span> std;<br><span style="color: #d73948">#define</span> <span style="color: #4b69c6">endl</span> <span style="color: #198810">'</span><span style="color: #1d6c76">\n</span><span style="color: #198810">'</span><br><span style="color: #d73948">#define</span> <span style="color: #4b69c6">MOD</span> <span style="color: #b60157">1e9</span> <span style="color: #d73948">+</span> <span style="color: #b60157">7</span><br><span style="color: #d73948">#define</span> <span style="color: #4b69c6">pii</span> pair&lt;<span style="color: #d73948">int</span>, pair&lt;<span style="color: #d73948">int</span>, <span style="color: #d73948">int</span>>><br><br><span style="color: #d73948">int</span> n, m;<br>vector&lt;<span style="color: #d73948">int</span>> pa;<br>priority_queue&lt;pii, vector&lt;pii>, greater&lt;pii>> q;<br><br><span style="color: #d73948">int</span> <span style="color: #4b69c6">root</span>(<span style="color: #d73948">int</span> x) {<br>  <span style="color: #d73948">if</span> (pa[x] <span style="color: #d73948">==</span> x)<br>    <span style="color: #d73948">return</span> x;<br>  <span style="color: #d73948">else</span><br>    <span style="color: #d73948">return</span> pa[x] <span style="color: #d73948">=</span> <span style="color: #4b69c6">root</span>(pa[x]);<br>}<br><br><span style="color: #d73948">int</span> <span style="color: #4b69c6">kruskal</span>() {<br>  <span style="color: #d73948">int</span> ans <span style="color: #d73948">=</span> <span style="color: #b60157">0</span>;<br><br>  pa.<span style="color: #4b69c6">resize</span>(n);<br>  <span style="color: #d73948">for</span> (<span style="color: #d73948">int</span> i <span style="color: #d73948">=</span> <span style="color: #b60157">0</span>; i <span style="color: #d73948">&lt;</span> n; i<span style="color: #d73948">++</span>)<br>    pa[i] <span style="color: #d73948">=</span> i;<br><br>  <span style="color: #d73948">while</span> (<span style="color: #d73948">!</span>q.<span style="color: #4b69c6">empty</span>()) {<br>    <span style="color: #d73948">int</span> w <span style="color: #d73948">=</span> q.<span style="color: #4b69c6">top</span>().first, x <span style="color: #d73948">=</span> q.<span style="color: #4b69c6">top</span>().second.first, y <span style="color: #d73948">=</span> q.<span style="color: #4b69c6">top</span>().second.second;<br>    q.<span style="color: #4b69c6">pop</span>();<br>    <span style="color: #d73948">if</span> (<span style="color: #4b69c6">root</span>(x) <span style="color: #d73948">==</span> <span style="color: #4b69c6">root</span>(y))<br>      <span style="color: #d73948">continue</span>;<br>    ans <span style="color: #d73948">+=</span> w;<br>    pa[<span style="color: #4b69c6">root</span>(x)] <span style="color: #d73948">=</span> pa[<span style="color: #4b69c6">root</span>(y)];<br>  }<br><br>  <span style="color: #d73948">return</span> ans;<br>}<br><br><span style="color: #d73948">int</span> <span style="color: #4b69c6">main</span>() {<br>  ios_base::<span style="color: #4b69c6">sync_with_stdio</span>(<span style="color: #b60157">0</span>);<br>  cin.<span style="color: #4b69c6">tie</span>(<span style="color: #b60157">0</span>);<br><br>  cin <span style="color: #d73948">>></span> n <span style="color: #d73948">>></span> m;<br><br>  <span style="color: #d73948">for</span> (<span style="color: #d73948">int</span> i <span style="color: #d73948">=</span> <span style="color: #b60157">0</span>; i <span style="color: #d73948">&lt;</span> m; i<span style="color: #d73948">++</span>) {<br>    <span style="color: #d73948">int</span> a, b, d;<br>    cin <span style="color: #d73948">>></span> a <span style="color: #d73948">>></span> b <span style="color: #d73948">>></span> d;<br>    q.<span style="color: #4b69c6">push</span>({d, {a, b}});<br>  }<br><br>  cout <span style="color: #d73948">&lt;&lt;</span> <span style="color: #4b69c6">kruskal</span>();<br>}</code></pre>
    <ul>
      <li><a href="https://grader.mwit.ac.th/problem/mst">https://grader.mwit.ac.th/problem/mst</a> ตรงสุด ๆ</li>
    </ul>
    <h4>Prim’s</h4>
    <pre><code data-lang="cpp"><span style="color: #74747c">//</span><span style="color: #74747c"> credit from https://github.com/Autoratch/practice</span><br><span style="color: #d73948">#include</span> <span style="color: #198810">&lt;</span><span style="color: #198810">bits/stdc++.h</span><span style="color: #198810">></span><br><span style="color: #d73948">using</span> <span style="color: #d73948">namespace</span> std;<br><span style="color: #d73948">#define</span> <span style="color: #4b69c6">endl</span> <span style="color: #198810">'</span><span style="color: #1d6c76">\n</span><span style="color: #198810">'</span><br><span style="color: #d73948">#define</span> <span style="color: #4b69c6">MOD</span> <span style="color: #b60157">1e9</span> <span style="color: #d73948">+</span> <span style="color: #b60157">7</span><br><br><span style="color: #d73948">int</span> n, m, ans;<br>vector&lt;<span style="color: #d73948">bool</span>> visited;<br>vector&lt;vector&lt;pair&lt;<span style="color: #d73948">int</span>, <span style="color: #d73948">int</span>>>> adj;<br>priority_queue&lt;pair&lt;<span style="color: #d73948">int</span>, <span style="color: #d73948">int</span>>, vector&lt;pair&lt;<span style="color: #d73948">int</span>, <span style="color: #d73948">int</span>>>, greater&lt;pair&lt;<span style="color: #d73948">int</span>, <span style="color: #d73948">int</span>>>><br>    q;<br><br><span style="color: #d73948">int</span> <span style="color: #4b69c6">main</span>() {<br>  ios_base::<span style="color: #4b69c6">sync_with_stdio</span>(<span style="color: #b60157">0</span>);<br>  cin.<span style="color: #4b69c6">tie</span>(<span style="color: #b60157">0</span>);<br><br>  cin <span style="color: #d73948">>></span> n <span style="color: #d73948">>></span> m;<br><br>  adj.<span style="color: #4b69c6">resize</span>(n);<br>  visited.<span style="color: #4b69c6">resize</span>(n);<br><br>  <span style="color: #d73948">for</span> (<span style="color: #d73948">int</span> i <span style="color: #d73948">=</span> <span style="color: #b60157">0</span>; i <span style="color: #d73948">&lt;</span> m; i<span style="color: #d73948">++</span>) {<br>    <span style="color: #d73948">int</span> a, b, d;<br>    cin <span style="color: #d73948">>></span> a <span style="color: #d73948">>></span> b <span style="color: #d73948">>></span> d;<br>    adj[a].<span style="color: #4b69c6">push_back</span>({d, b});<br>    adj[b].<span style="color: #4b69c6">push_back</span>({d, a});<br>  }<br><br>  q.<span style="color: #4b69c6">push</span>({<span style="color: #b60157">0</span>, <span style="color: #b60157">0</span>});<br><br>  <span style="color: #d73948">while</span> (<span style="color: #d73948">!</span>q.<span style="color: #4b69c6">empty</span>()) {<br>    <span style="color: #d73948">int</span> w <span style="color: #d73948">=</span> q.<span style="color: #4b69c6">top</span>().first, p <span style="color: #d73948">=</span> q.<span style="color: #4b69c6">top</span>().second;<br>    q.<span style="color: #4b69c6">pop</span>();<br>    <span style="color: #d73948">if</span> (visited[p])<br>      <span style="color: #d73948">continue</span>;<br>    visited[p] <span style="color: #d73948">=</span> <span style="color: #d73948">true</span>;<br>    ans <span style="color: #d73948">+=</span> w;<br>    <span style="color: #d73948">for</span> (<span style="color: #d73948">int</span> i <span style="color: #d73948">=</span> <span style="color: #b60157">0</span>; i <span style="color: #d73948">&lt;</span> adj[p].<span style="color: #4b69c6">size</span>(); i<span style="color: #d73948">++</span>)<br>      <span style="color: #d73948">if</span> (<span style="color: #d73948">!</span>visited[adj[p][i].second])<br>        q.<span style="color: #4b69c6">push</span>(adj[p][i]);<br>  }<br><br>  cout <span style="color: #d73948">&lt;&lt;</span> ans;<br>}</code></pre>
    <h3>Tree algorithms</h3>
    <h4>Diameter</h4>
    <ul>
      <li>
        <p>Algorithm 1</p>
        <ul>
          <li>ดึง node มั่ว ๆ มาเป็น root</li>
          <li>หา path ยาวสุดของแต่ละลูก แล้วหาเส้นผ่านศูนย์กลาง</li>
        </ul>
      </li>
      <li>
        <p>Algorithm 2</p>
        <ul>
          <li>เลือกโหนดมั่ว ๆ เป็นโหนด a</li>
          <li>หาโหนดที่อยู่ไกลที่สุดจากโหนด a เป็นโหนด b</li>
          <li>หาโหนดที่อยู่ไกลที่สุดจากโหนด b เป็นโหนด c</li>
          <li>จะได้เส้นผ่านศูนย์กลางคือเส้นทางจาก b ไป c</li>
        </ul>
      </li>
    </ul>
    <h4>Lowest common ancestor (implementation)</h4>
    <pre><code data-lang="cpp"><span style="color: #74747c">//</span><span style="color: #74747c"> credit from https://github.com/Autoratch/practice</span><br><span style="color: #d73948">#include</span> <span style="color: #198810">&lt;</span><span style="color: #198810">bits/stdc++.h</span><span style="color: #198810">></span><br><span style="color: #d73948">using</span> <span style="color: #d73948">namespace</span> std;<br><br><span style="color: #d73948">const</span> <span style="color: #d73948">int</span> N <span style="color: #d73948">=</span> <span style="color: #b60157">1e5</span> <span style="color: #d73948">+</span> <span style="color: #b60157">1</span>;<br><br><span style="color: #d73948">int</span> n, q;<br><span style="color: #d73948">int</span> dp[<span style="color: #b60157">21</span>][N], lv[N];<br>vector&lt;<span style="color: #d73948">int</span>> adj[N];<br><br><span style="color: #d73948">void</span> <span style="color: #4b69c6">dfs</span>(<span style="color: #d73948">int</span> u, <span style="color: #d73948">int</span> p, <span style="color: #d73948">int</span> l) {<br>  dp[<span style="color: #b60157">0</span>][u] <span style="color: #d73948">=</span> p, lv[u] <span style="color: #d73948">=</span> l;<br>  <span style="color: #d73948">for</span> (<span style="color: #d73948">int</span> v <span style="color: #d73948">:</span> adj[u])<br>    <span style="color: #4b69c6">dfs</span>(v, u, l <span style="color: #d73948">+</span> <span style="color: #b60157">1</span>);<br>}<br><br><span style="color: #d73948">int</span> <span style="color: #4b69c6">lca</span>(<span style="color: #d73948">int</span> a, <span style="color: #d73948">int</span> b) {<br>  <span style="color: #d73948">if</span> (lv[a] <span style="color: #d73948">&lt;</span> lv[b])<br>    <span style="color: #4b69c6">swap</span>(a, b);<br>  <span style="color: #d73948">for</span> (<span style="color: #d73948">int</span> i <span style="color: #d73948">=</span> <span style="color: #b60157">20</span>; i <span style="color: #d73948">>=</span> <span style="color: #b60157">0</span>; i<span style="color: #d73948">--</span>)<br>    <span style="color: #d73948">if</span> (lv[dp[i][a]] <span style="color: #d73948">>=</span> lv[b])<br>      a <span style="color: #d73948">=</span> dp[i][a];<br>  <span style="color: #d73948">if</span> (a <span style="color: #d73948">==</span> b)<br>    <span style="color: #d73948">return</span> a;<br>  <span style="color: #d73948">for</span> (<span style="color: #d73948">int</span> i <span style="color: #d73948">=</span> <span style="color: #b60157">20</span>; i <span style="color: #d73948">>=</span> <span style="color: #b60157">0</span>; i<span style="color: #d73948">--</span>)<br>    <span style="color: #d73948">if</span> (dp[i][a] <span style="color: #d73948">!=</span> dp[i][b])<br>      a <span style="color: #d73948">=</span> dp[i][a], b <span style="color: #d73948">=</span> dp[i][b];<br>  <span style="color: #d73948">return</span> dp[<span style="color: #b60157">0</span>][a];<br>}<br><br><span style="color: #d73948">int</span> <span style="color: #4b69c6">main</span>() {<br>  ios_base::<span style="color: #4b69c6">sync_with_stdio</span>(<span style="color: #b60157">0</span>);<br>  cin.<span style="color: #4b69c6">tie</span>(<span style="color: #b60157">0</span>);<br><br>  cin <span style="color: #d73948">>></span> n;<br><br>  <span style="color: #d73948">for</span> (<span style="color: #d73948">int</span> i <span style="color: #d73948">=</span> <span style="color: #b60157">0</span>; i <span style="color: #d73948">&lt;</span> n <span style="color: #d73948">-</span> <span style="color: #b60157">1</span>; i<span style="color: #d73948">++</span>) {<br>    <span style="color: #d73948">int</span> a, b;<br>    cin <span style="color: #d73948">>></span> a <span style="color: #d73948">>></span> b;<br>    adj[a].<span style="color: #4b69c6">push_back</span>(b);<br>  }<br><br>  <span style="color: #4b69c6">dfs</span>(<span style="color: #b60157">0</span>, <span style="color: #b60157">0</span>, <span style="color: #b60157">1</span>);<br><br>  <span style="color: #d73948">for</span> (<span style="color: #d73948">int</span> i <span style="color: #d73948">=</span> <span style="color: #b60157">1</span>; i <span style="color: #d73948">&lt;=</span> <span style="color: #b60157">20</span>; i<span style="color: #d73948">++</span>)<br>    <span style="color: #d73948">for</span> (<span style="color: #d73948">int</span> j <span style="color: #d73948">=</span> <span style="color: #b60157">1</span>; j <span style="color: #d73948">&lt;=</span> n; j<span style="color: #d73948">++</span>)<br>      dp[i][j] <span style="color: #d73948">=</span> dp[i <span style="color: #d73948">-</span> <span style="color: #b60157">1</span>][dp[i <span style="color: #d73948">-</span> <span style="color: #b60157">1</span>][j]];<br><br>  cin <span style="color: #d73948">>></span> q;<br><br>  <span style="color: #d73948">while</span> (q<span style="color: #d73948">--</span>) {<br>    <span style="color: #d73948">int</span> a, b;<br>    cin <span style="color: #d73948">>></span> a <span style="color: #d73948">>></span> b;<br>    cout <span style="color: #d73948">&lt;&lt;</span> <span style="color: #4b69c6">lca</span>(a, b) <span style="color: #d73948">&lt;&lt;</span> <span style="color: #198810">'</span><span style="color: #1d6c76">\n</span><span style="color: #198810">'</span>;<br>  }<br>}</code></pre>
    <h4>Euler Tour Technique</h4>
    <p><a href="https://usaco.guide/gold/tree-euler?lang=cpp">https://usaco.guide/gold/tree-euler?lang=cpp</a> <a href="https://cses.fi/problemset/task/1137">https://cses.fi/problemset/task/1137</a></p>
    <h4>Challenge</h4>
    <ul>
      <li><a href="https://grader.mwit.ac.th/problem/toi12_weakpoint">https://grader.mwit.ac.th/problem/toi12_weakpoint</a> one-cycle, dp?</li>
      <li><a href="https://grader.mwit.ac.th/problem/toi14_technology">https://grader.mwit.ac.th/problem/toi14_technology</a></li>
    </ul>
    <h3>Strong connectivity</h3>
    <p><a href="https://cp-algorithms.com/graph/strongly-connected-components.html">https://cp-algorithms.com/graph/strongly-connected-components.html</a></p>
    <h4>Kosaraju’s</h4>
    <pre><code data-lang="cpp"><span style="color: #74747c">//</span><span style="color: #74747c"> credit from https://github.com/Autoratch/practice</span><br><span style="color: #d73948">#include</span> <span style="color: #198810">&lt;</span><span style="color: #198810">bits/stdc++.h</span><span style="color: #198810">></span><br><span style="color: #d73948">using</span> <span style="color: #d73948">namespace</span> std;<br><br><span style="color: #d73948">const</span> <span style="color: #d73948">int</span> N <span style="color: #d73948">=</span> <span style="color: #b60157">1e5</span> <span style="color: #d73948">+</span> <span style="color: #b60157">1</span>;<br><br><span style="color: #d73948">int</span> n, m;<br>vector&lt;<span style="color: #d73948">int</span>> adj[N], rev[N];<br>stack&lt;<span style="color: #d73948">int</span>> st;<br><span style="color: #d73948">bool</span> visited[N];<br><br><span style="color: #d73948">void</span> <span style="color: #4b69c6">dfs</span>(<span style="color: #d73948">int</span> u) {<br>  <span style="color: #d73948">if</span> (visited[u])<br>    <span style="color: #d73948">return</span>;<br>  visited[u] <span style="color: #d73948">=</span> <span style="color: #d73948">true</span>;<br>  <span style="color: #d73948">for</span> (<span style="color: #d73948">int</span> v <span style="color: #d73948">:</span> adj[u])<br>    <span style="color: #4b69c6">dfs</span>(v);<br>  st.<span style="color: #4b69c6">push</span>(u);<br>}<br><br><span style="color: #d73948">void</span> <span style="color: #4b69c6">scc</span>(<span style="color: #d73948">int</span> u) {<br>  <span style="color: #d73948">if</span> (visited[u])<br>    <span style="color: #d73948">return</span>;<br>  visited[u] <span style="color: #d73948">=</span> <span style="color: #d73948">true</span>;<br>  cout <span style="color: #d73948">&lt;&lt;</span> u <span style="color: #d73948">&lt;&lt;</span> <span style="color: #198810">'</span><span style="color: #198810"> </span><span style="color: #198810">'</span>;<br>  <span style="color: #d73948">for</span> (<span style="color: #d73948">int</span> v <span style="color: #d73948">:</span> rev[u])<br>    <span style="color: #4b69c6">scc</span>(v);<br>}<br><br><span style="color: #d73948">int</span> <span style="color: #4b69c6">main</span>() {<br>  ios_base::<span style="color: #4b69c6">sync_with_stdio</span>(<span style="color: #b60157">0</span>);<br>  cin.<span style="color: #4b69c6">tie</span>(<span style="color: #b60157">0</span>);<br><br>  cin <span style="color: #d73948">>></span> n <span style="color: #d73948">>></span> m;<br><br>  <span style="color: #d73948">for</span> (<span style="color: #d73948">int</span> i <span style="color: #d73948">=</span> <span style="color: #b60157">0</span>; i <span style="color: #d73948">&lt;</span> m; i<span style="color: #d73948">++</span>) {<br>    <span style="color: #d73948">int</span> a, b;<br>    cin <span style="color: #d73948">>></span> a <span style="color: #d73948">>></span> b;<br>    adj[a].<span style="color: #4b69c6">push_back</span>(b);<br>    rev[b].<span style="color: #4b69c6">push_back</span>(a);<br>  }<br><br>  <span style="color: #d73948">for</span> (<span style="color: #d73948">int</span> i <span style="color: #d73948">=</span> <span style="color: #b60157">1</span>; i <span style="color: #d73948">&lt;=</span> n; i<span style="color: #d73948">++</span>)<br>    <span style="color: #d73948">if</span> (<span style="color: #d73948">!</span>visited[i])<br>      <span style="color: #4b69c6">dfs</span>(i);<br><br>  <span style="color: #4b69c6">memset</span>(visited, <span style="color: #b60157">0</span>, <span style="color: #d73948">sizeof</span> visited);<br><br>  <span style="color: #d73948">while</span> (<span style="color: #d73948">!</span>st.<span style="color: #4b69c6">empty</span>()) {<br>    <span style="color: #d73948">int</span> u <span style="color: #d73948">=</span> st.<span style="color: #4b69c6">top</span>();<br>    st.<span style="color: #4b69c6">pop</span>();<br>    <span style="color: #d73948">if</span> (visited[u])<br>      <span style="color: #d73948">continue</span>;<br>    <span style="color: #4b69c6">scc</span>(u);<br>    cout <span style="color: #d73948">&lt;&lt;</span> <span style="color: #198810">'</span><span style="color: #1d6c76">\n</span><span style="color: #198810">'</span>;<br>  }<br>}</code></pre>
    <h4>Challenge</h4>
    <ul>
      <li><a href="https://grader.mwit.ac.th/problem/walk_around">https://grader.mwit.ac.th/problem/walk_around</a> cycle, union find, reverse query</li>
    </ul>
    <h4>เพิ่มเติม</h4>
    <ul>
      <li>ตะลุยโจทย์ Graph ระดับโหดใน Competitive Programming (aquablitz11)<a id="loc-1" href="#loc-2" role="doc-noteref"><sup>1</sup></a></li>
    </ul>
    <section role="doc-endnotes">
      <ol style="list-style-type: none">
        <li id="loc-2"><a href="#loc-1" role="doc-backlink"><sup>1</sup></a><a href="http://tcpc.me/2019/08/19/state-graph-tutorial.html">http://tcpc.me/2019/08/19/state-graph-tutorial.html</a></li>
      </ol>
    </section>
  </body>
</html>
